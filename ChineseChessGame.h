#ifndef CHINESECHESSGAME_H
#define CHINESECHESSGAME_H
#include <iostream>
#include "Board.h"
#include "Piece.h"
#include "Horse.h"
#include "Bishop.h"
#include "Advisor.h"
#include "Rook.h"
#include "Pawn.h"
#include "General.h"
#include "Cannon.h"
#include <vector>
class ChineseChessGame
{
 public:
  Board board_;
  bool finished_;
  //	const short piece_value_[8] = {1000, 20, 20, 40, 90, 45, 10, 0};//general, advisor, bishop, horse, rook, cannon
    const short piece_value_[48] = {
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    1000,20,20,20,20,40,40,90,90,45,45,10,10,10,10,10,
    1000,20,20,20,20,40,40,90,90,45,45,10,10,10,10,10
    };

  /*  const short piece_value_[48] = {
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    6000,120,120,120,120,270,270,600,600,285,285,30,30,30,30,30,
    6000,120,120,120,120,270,270,600,600,285,285,30,30,30,30,30,
    };*/
  
  const short piece_num_to_type_[48] = {
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    0,1,1,2,2,3,3,4,4,5,5,6,6,6,6,6,
    0,1,1,2,2,3,3,4,4,5,5,6,6,6,6,6
  };
  const short position_value_[2][7][256] = {
    //red
    {
      //red general
      {
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0,10,10,10, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0,15,20,15, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	      
      },
      //red advisor
      {
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0,30, 0,30, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0,22, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0,30, 0,30, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      },
      //red bishop
      {
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0,25, 0, 0, 0,25, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0,20, 0, 0, 0,35, 0, 0, 0,20, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0,30, 0, 0, 0,30, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,

      },
      //red horse
      {
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0,70,80,90,80,70,80,90,80,70, 0, 0, 0, 0,
	0, 0, 0,80,110,125,90,70,90,125,110,80, 0, 0, 0, 0,
	0, 0, 0,90,100,120,125,120,125,120,100,90, 0, 0, 0, 0,
	0, 0, 0,90,100,120,130,110,130,120,100,90, 0, 0, 0, 0,
	0, 0, 0,90,110,110,120,100,120,110,110,90, 0, 0, 0, 0,
	0, 0, 0,90,100,100,110,100,110,100,100,90, 0, 0, 0, 0,
	0, 0, 0,80,90,100,100,90,100,90,80, 0, 0, 0, 0, 0,
	0, 0, 0,80,80,90,90,80,90,90,80,80, 0, 0, 0, 0,
	0, 0, 0,70,75,75,70,50,70,75,75,70, 0, 0, 0, 0,
	0, 0, 0,60,70,75,70,60,70,75,70,60, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,

      },
      //red rook
      {
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0,160,170,160,150,150,150,160,170,160, 0, 0, 0, 0,
	0, 0, 0,170,180,170,190,250,190,170,180,170, 0, 0, 0, 0,
	0, 0, 0,170,190,200,220,240,220,200,190,170, 0, 0, 0, 0,
	0, 0, 0,180,220,210,240,250,240,210,220,180, 0, 0, 0, 0,
	0, 0, 0,180,220,210,240,250,240,210,220,180, 0, 0, 0, 0,
	0, 0, 0,180,220, 210,240,250,240,210,220,180,0, 0, 0, 0,
	0, 0, 0,170,190,180,220,240,220,200,190,170, 0, 0, 0, 0,
	0, 0, 0,170,180,170,170,160,170,170,180,170, 0, 0, 0, 0,
	0, 0, 0,160,170,160,160,150,160,160,170,160, 0, 0, 0, 0,
	0, 0, 0,150,160,150,160,150,160,150,160,150,0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	    
      },
      //red cannon
      {
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 125,130,100,70,60,70,100,130,125, 0, 0, 0, 0,
	0, 0, 0, 110,125,100,70,60,70,100,125,110, 0, 0, 0, 0,
	0, 0, 0, 100,130,90,80,80,80,90,120,100, 0, 0, 0, 0,
	0, 0, 0, 90,110,90,110,130,110,90,110,90,0, 0, 0, 0,
	0, 0, 0,90,110,90,110,130,110,90,110,90, 0, 0, 0, 0,
	0, 0, 0,90,100,90,110,130,110,90,100, 90, 0, 0, 0, 0,
	0, 0, 0,90,100,90,90, 110,90, 90,100, 90, 0, 0, 0, 0,
	0, 0, 0,90,100,80,80, 70, 80, 80,100, 90, 0, 0 ,0, 0,
	0, 0, 0, 80,90,80,70,65,70,80,90,80, 0, 0, 0, 0,
	0, 0, 0, 80,90,80,70,60,70,80,90, 80,0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      },
      //red pawn
      {
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 10,10,10,20,25,20,10,10,10,0, 0, 0, 0,
	0, 0, 0, 25,30,40,50,60,50,40,30,25,0, 0, 0, 0,
	0, 0, 0, 25,30,30,40,40,40,30,30,25,0, 0, 0, 0,
	0, 0, 0, 20,25,25,30,30,30,25,25,20,0, 0, 0, 0,
	0, 0, 0, 15,20,20,20,20,20,20,20,15,0, 0, 0, 0,
	0, 0, 0, 10, 0, 15, 0, 15, 0, 15, 0, 10, 0, 0, 0, 0,
	0, 0, 0, 10, 0, 10, 0, 15, 0, 10, 0, 10, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      }
    },{
      //black general
      {
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 15,20,15, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 10, 10, 10, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      },
      //black advisor
      {
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 30,0,30, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 22, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 30, 0, 30, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      },
      //black bishop
      {
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0,30, 0, 0, 0,30, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0,20, 0, 0, 0,35, 0, 0, 0,20, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0,25, 0, 0, 0,25, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      },
      //black horse
      {
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 60,70,75,70,60,70,75,70,60,0, 0, 0, 0,
	0, 0, 0, 70,75,75,70,50,70,75,75,70,0, 0, 0, 0,
	0, 0, 0, 80,80,90,90,80,90,90,80,80,0, 0, 0, 0,
	0, 0, 0, 80,90,100,100,90,100,100,90,80,0,0, 0,0,
	0, 0, 0, 90,100,100,110,100,110,100,100,90,0,0,0,0,
	0, 0, 0, 90,110,110,120,100,120,110,110,90,0,0,0,0,
	0, 0, 0, 90,100,120,130,110,130,120,100,90, 0,0,0,0,
	0, 0, 0, 90,100,120,125,120,125,120,100,90, 0,0,0,0,
	0, 0, 0, 80,110,125,90,70,90,125,110,80,0,0,0,0,
	0, 0, 0, 70,80,90,80,70,80,90,80,70,0,0,0,0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      },
      //black rook
      {
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 150,160,150,160,150,160,150,160,150,0,0,0,0,
	0, 0, 0, 160,170,160,160,150,160,160,170,160,0,0,0,0,
	0, 0, 0, 170,180,170,170,160,170,170,180,170,0,0,0,0,
	0, 0, 0, 170,190,200,220,240,220,180,190,170,0,0,0,0,
	0, 0, 0, 180,220,210,240,250,240,210,220,180,0,0,0,0,
	0, 0, 0, 180,220,210,240,250,240,210,220,180,0,0,0,0,
	0, 0, 0, 180,220,210,240,250,240,210,220,180,0,0,0,0,
	0, 0, 0, 170,190,200,220,240,220,200,190,170,0,0,0,0,
	0, 0, 0, 170,180,170,190,250,190,170,180,170,0,0,0,0,
	0, 0, 0, 160,170,160,150,150,150,160,170,160,0,0,0,0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      },
      //black cannon
      {
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 80,90,80,70,60,70,80,90,80,0, 0, 0, 0,
	0, 0, 0, 80,90,80,70,65,70,80,90,80,0, 0, 0, 0,
	0, 0, 0, 90,100,80,80,70,80,80,100,90, 0, 0, 0, 0,
	0, 0, 0, 90,100,90,90,110,90,90,100,90, 0, 0, 0, 0,
	0, 0, 0, 90,100,90,110,130,110,90,100,90,0, 0, 0, 0,
	0, 0, 0, 90,110,90,110,130,110,90,110,90,0,0,0,0,
	0, 0, 0, 90,110,90,110,130,110,90,110,90,0,0,0,0,
	0, 0, 0, 100,120,90,80,80,80,90,120,100,0,0,0,0,
	0, 0, 0, 110,125,100,70,60,70,100,125,110, 0,0,0,0,
	0, 0, 0, 125,130,100,70,60,70,100,130,125,0,0,0,0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      },
      //black pawn
      {
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 10,0,10, 0,15, 0, 10,0, 10,0, 0, 0, 0,
	0, 0, 0, 10,0,15, 0,15, 0, 15,0, 10,0, 0, 0, 0,
	0, 0, 0, 15,20,20,20,20,20,20,20,15,0, 0, 0, 0,
	0, 0, 0, 20,25,25,30,30,30,25,25,20,0, 0, 0, 0,
	0, 0, 0, 25,30,30,40,40,40,30,30,25,0, 0, 0, 0,
	0, 0, 0, 25,30,40,50,60,50,40,30,25,0, 0, 0, 0,
	0, 0, 0,10,10,10,20,25,20,10,10,10,0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	    
      }
	  
    }
  };
  bool side_;//0 for user 1 for AI
  short piece_[48] = {
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    199, 198, 200, 197, 201, 196, 202, 195, 203, 164, 170, 147, 149, 151, 153, 155,
    55, 54, 56, 53, 57, 52, 58, 51, 59, 84, 90, 99, 101, 103, 105, 107
  };
  std::vector<move> move_vc;
  short legal_position_[2][256] = {{
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 9, 9, 9, 9, 9, 9, 9, 9, 9, 0, 0, 0, 0,
      0, 0, 0, 9, 9, 9, 9, 9, 9, 9, 9, 9, 0, 0, 0, 0,
      0, 0, 0, 9, 9, 9, 9, 9, 9, 9, 9, 9, 0, 0, 0, 0,
      0, 0, 0, 9, 9, 9, 9, 9, 9, 9, 9, 9, 0, 0, 0, 0,
      0, 0, 0, 9, 9, 9, 9, 9, 9, 9, 9, 9, 0, 0, 0, 0,
      0, 0, 0, 9, 1,25, 1, 9, 1,25, 1, 9, 0, 0, 0, 0,
      0, 0, 0, 9, 1, 9, 1, 9, 1, 9, 1, 9, 0, 0, 0, 0,
      0, 0, 0,17, 1, 1, 7,19, 7, 1, 1,17, 0, 0, 0, 0,
      0, 0, 0, 1, 1, 1, 3, 7, 3, 1, 1, 1, 0, 0, 0, 0, 
      0, 0, 0, 1, 1,17, 7, 3, 7,17, 1, 1, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    },{
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 1, 1,17, 7, 3, 7,17, 1, 1, 0, 0, 0, 0,
      0, 0, 0, 1, 1, 1, 3, 7, 3, 1, 1, 1, 0, 0, 0, 0,
      0, 0, 0,17, 1, 1, 7,19, 7, 1, 1,17, 0, 0, 0, 0,
      0, 0, 0, 9, 1, 9, 1, 9, 1, 9, 1, 9, 0, 0, 0, 0,
      0, 0, 0, 9, 1,25, 1, 9, 1,25, 1, 9, 0, 0, 0, 0,
      0, 0, 0, 9, 9, 9, 9, 9, 9, 9, 9, 9, 0, 0, 0, 0, 
      0, 0, 0, 9, 9, 9, 9, 9, 9, 9, 9, 9, 0, 0, 0, 0,
      0, 0, 0, 9, 9, 9, 9, 9, 9, 9, 9, 9, 0, 0, 0, 0,
      0, 0, 0, 9, 9, 9, 9, 9, 9, 9, 9, 9, 0, 0, 0, 0,
      0, 0, 0, 9, 9, 9, 9, 9, 9, 9, 9, 9, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    }};
  short position_mask_[7] = {2, 4, 16, 1, 1, 1, 8};// general, advisor, bishop, rook, horse, cannon, pawn
  move move_stack_[128];
  move cur_best_move_;
  int stack_top_ = 0;
  int MaxDepth = 5;
  ChineseChessGame();//constructor
  void Start();
  void GenAllMove(int side);
  void ShowBoard();
  void ShowUI();
  void PlayerMove();
  void MovePiece(short from, short to, bool side);
  void AIMove();
  int Evaluation();
  int ToSubscript(short p);
  void AIMovePiece(move & mv);
  void AIUnMovePiece();
  void TestMove(Piece *piece, short pos);
  bool IsEnd();
  int AlphaBetaSearch(int depth, int alpha, int beta);
  bool CheckJiang(bool side);
  void CollectMove(Piece * pie, unsigned char cur_pos, unsigned char side,  Board board);
};
#endif

